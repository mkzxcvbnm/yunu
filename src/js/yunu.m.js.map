{"version":3,"sources":["yunu.m.js"],"names":["$","window","document","undefined","yunu","letter","fn","arguments","times","timer","st","Date","getTime","et","clearTimeout","setTimeout","throttle","type","_","scroll","resize","rem","size","html","getElementsByTagName","setSize","_w","documentElement","clientWidth","style","fontSize","onresize","nav","menu","btn","filter","index","css","next","children","length","click","hasClass","removeClass","addClass","each","prop","append","event","t","slideUp","slideDown","gotop","px","body","$window","stopPropagation","preventDefault","animate","scrollTop","fadeIn","fadeOut","getDbJson","key","JSON","parse","localStorage","getItem","setDbJson","val","setItem","stringify","imgAuto","co","fncall","name","arg","img","Image","cover","attr","_h","boxScale","box","src","parent","wrapAll","height","width","move","i_w","i_h","b_w","b_h","fadeTo","jQuery"],"mappings":"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","file":"yunu.m.js","sourcesContent":[";(($, window, document, undefined) => {\r\n    window.yunu = {\r\n        letter(fn) {\r\n            if (typeof arguments[0] != 'function') return;\r\n            fn();\r\n            let times = typeof arguments[1] != 'number'?300:arguments[1],\r\n                timer = null,\r\n                st = new Date().getTime();\r\n            return function () {\r\n                let et = new Date().getTime();\r\n                if (et - st < times) {\r\n                    clearTimeout(timer);\r\n                    timer = setTimeout(function () {\r\n                        //return fn.apply(this,arguments);\r\n                        fn();\r\n                    }, times);\r\n                } else{\r\n                    clearTimeout(timer);\r\n                    st = et;\r\n                    fn();\r\n                };\r\n            };\r\n        },\r\n        throttle(fn, timer = 300, type) {\r\n            if (typeof fn != 'function') return;\r\n            fn();\r\n\r\n            typeof _ == 'function'?\r\n            fn = _.throttle(fn, 300):\r\n            fn = this.letter(fn, 300);\r\n\r\n            switch (type) {\r\n                case \"scroll\":\r\n                    $(window).scroll(fn);\r\n                    break;\r\n                default:\r\n                    $(window).resize(fn);\r\n            }\r\n            return this;\r\n        },\r\n        rem(size = 750) {\r\n            let html = document.getElementsByTagName('html')[0],\r\n                setSize = () => {\r\n                let _w = document.documentElement.clientWidth;\r\n                _w = _w > size ? size: _w;\r\n                html.style.fontSize = _w/size * 100 + 'px';\r\n            };\r\n            setSize();\r\n            window.onresize = setSize;\r\n            return this;\r\n        },\r\n        nav() {\r\n            let menu = $('#menu'),\r\n                nav = $('#nav'),\r\n                btn = $('#nav>ul>li>a').filter(function (index) {\r\n                    return $(this).css({'animation-delay': (index/10)+'s'})\r\n                    .next('ul').children().length;\r\n                });\r\n            menu.click(function () {\r\n                nav.hasClass('active')?nav.removeClass('active'):nav.addClass('active');\r\n            });\r\n            btn.each(function () {\r\n                $(this).prop('href', 'javascript:;').append('<i class=\"fa fa-angle-down\"></i>');\r\n            })\r\n            .click(function (event) {\r\n                let t = $(this);\r\n                btn.next('ul').slideUp('fast');\r\n                if (t.hasClass('active')) {\r\n                    t.removeClass('active');\r\n                } else {\r\n                    t.addClass('active').next('ul').slideDown('fast');\r\n                }\r\n            });\r\n            return this;\r\n        },\r\n        gotop() {\r\n            let gotop = $(\"#gotop\"),\r\n                timer = null,\r\n                px = 0,\r\n                body = $('html,body'),\r\n                $window = $(window);\r\n\r\n            gotop.click(() => {\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n                body.animate({\r\n                    scrollTop: 0\r\n                });\r\n            });\r\n\r\n            yunu.throttle(() => {\r\n                $window.scrollTop() > 50?gotop.fadeIn():gotop.fadeOut();\r\n            }, 300, 'scroll');\r\n            return this;\r\n        },\r\n        //获取缓存中的数据\r\n        getDbJson(key) {\r\n            return JSON.parse(localStorage.getItem(key));\r\n        },\r\n        //写入缓存数据\r\n        setDbJson(key, val) {\r\n            //记录数据存储的时间\r\n            //val.datatime = Math.round(new Date().getTime()/1000);\r\n            localStorage.setItem(key, JSON.stringify(val));\r\n        },\r\n    };\r\n\r\n    yunu.rem();\r\n    $(() => {\r\n        yunu.nav().gotop();\r\n    });\r\n\r\n    $.fn.imgAuto = (co, fn) => {\r\n        fn = fn || {};\r\n        let fncall = (name, arg) => {\r\n            if (typeof fn[name] === 'function') fn[name](arg);\r\n        };\r\n        $(this).each(() => {\r\n            let t = $(this),\r\n                img = new Image(),\r\n                cover = t.attr('img-Auto') == 'cover'||co?true:false,\r\n                _w = t.attr('width'),\r\n                _h = t.attr('height'),\r\n                boxScale = t.attr('box-Scale'),\r\n                box;\r\n            t.css({'display':'block','opacity':0});\r\n            img.src = t.attr('src');\r\n            if ( !t.parent().hasClass('imgAuto_box') && ( t.attr('no-Box') || _w && _h ) ) {\r\n                box = $('<div class=\"imgAuto_box\"></div>');\r\n                box.css({\r\n                    \"width\":_w,\r\n                    \"height\":_h\r\n                });\r\n                t.wrapAll(box);\r\n            }\r\n            box = t.parent();\r\n            box.css('overflow', 'hidden');\r\n            if (boxScale) {\r\n                box.each(() => {\r\n                    let t = $(this);\r\n                    yunu.throttle(() => {\r\n                        t.height(t.width()/boxScale);\r\n                    });\r\n                });\r\n            };\r\n            let move = () => {\r\n                if (img.width>0 || img.height>0) {\r\n                    fncall('imgAutoStart', img);\r\n                    let i_w = img.width,//原图宽\r\n                        i_h = img.height,//原图高\r\n                        b_w = box.width(),//父元素宽\r\n                        b_h = box.height();//父元素高\r\n                    if ( i_w/i_h < b_w/b_h === cover ) {\r\n                        t.css({'width':'100%','height':'auto','margin':-(b_w / (i_w/i_h) - b_h)/2 + 'px 0 0 0'});\r\n                    }else{\r\n                        t.css({'width':'auto','height':'100%','margin':'0 0 0 ' + -(b_h * (i_w/i_h) - b_w)/2 + 'px'});\r\n                    }\r\n                    fncall('callback', img);\r\n                }else{\r\n                    setTimeout(move);\r\n                }\r\n            }\r\n            yunu.throttle(move);\r\n            t.fadeTo('fast', 1);\r\n        });\r\n        return this;\r\n    };\r\n})(jQuery, window, document);"],"sourceRoot":"src/source/js"}