{"version":3,"sources":["yunu.js"],"names":["$","window","document","undefined","yunu","letter","fn","arguments","times","timer","st","Date","getTime","et","clearTimeout","setTimeout","throttle","type","_","scroll","resize","imgAuto","co","fncall","name","arg","each","t","img","Image","cover","attr","_w","_h","boxScale","box","css","src","parent","hasClass","wrapAll","height","width","move","i_w","i_h","b_w","b_h","fadeTo","jQuery"],"mappings":"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","file":"yunu.js","sourcesContent":[";(($, window, document, undefined) => {\r\n    window.yunu = {\r\n        letter(fn) {\r\n            if (typeof arguments[0] != 'function') return;\r\n            fn();\r\n            let times = typeof arguments[1] != 'number'?300:arguments[1],\r\n                timer = null,\r\n                st = new Date().getTime();\r\n            return function() {\r\n                let et = new Date().getTime();\r\n                if (et - st < times) {\r\n                    clearTimeout(timer);\r\n                    timer = setTimeout(function() {\r\n                        //return fn.apply(this,arguments);\r\n                        fn();\r\n                    }, times);\r\n                } else{\r\n                    clearTimeout(timer);\r\n                    st = et;\r\n                    fn();\r\n                };\r\n            };\r\n        },\r\n        throttle(fn, timer = 300, type) {\r\n            if (typeof fn != 'function') return;\r\n            fn();\r\n\r\n            typeof _ == 'function'?\r\n            fn = _.throttle(fn, 300):\r\n            fn = this.letter(fn, 300);\r\n\r\n            switch (type) {\r\n                case \"scroll\":\r\n                    $(window).scroll(fn);\r\n                    break;\r\n                default:\r\n                    $(window).resize(fn);\r\n            }\r\n            return this;\r\n        }\r\n    };\r\n\r\n    $.fn.imgAuto = function(co, fn) {\r\n        fn = fn || {};\r\n        let fncall = (name, arg) => {\r\n            if (typeof fn[name] === 'function') fn[name](arg);\r\n        };\r\n        $(this).each(function() {\r\n            let t = $(this),\r\n                img = new Image(),\r\n                cover = t.attr('img-Auto') == 'cover'||co?true:false,\r\n                _w = t.attr('width'),\r\n                _h = t.attr('height'),\r\n                boxScale = t.attr('box-Scale'),\r\n                box;\r\n            t.css({'display':'block','opacity':0});\r\n            img.src = t.attr('src');\r\n            if ( !t.parent().hasClass('imgAuto_box') && ( t.attr('no-Box') || _w && _h ) ) {\r\n                box = $('<div class=\"imgAuto_box\"></div>');\r\n                box.css({\r\n                    \"width\":_w,\r\n                    \"height\":_h\r\n                });\r\n                t.wrapAll(box);\r\n            }\r\n            box = t.parent();\r\n            box.css('overflow', 'hidden');\r\n            if (boxScale) {\r\n                box.each(function() {\r\n                    let t = $(this);\r\n                    yunu.throttle(function() {\r\n                        t.height(t.width()/boxScale);\r\n                    });\r\n                });\r\n            };\r\n            let move = function() {\r\n                if (img.width>0 || img.height>0) {\r\n                    fncall('imgAutoStart', img);\r\n                    let i_w = img.width,//原图宽\r\n                        i_h = img.height,//原图高\r\n                        b_w = box.width(),//父元素宽\r\n                        b_h = box.height();//父元素高\r\n                    if ( i_w/i_h < b_w/b_h === cover ) {\r\n                        t.css({'width':'100%','height':'auto','margin':-(b_w / (i_w/i_h) - b_h)/2 + 'px 0 0 0'});\r\n                    }else{\r\n                        t.css({'width':'auto','height':'100%','margin':'0 0 0 ' + -(b_h * (i_w/i_h) - b_w)/2 + 'px'});\r\n                    }\r\n                    fncall('callback', img);\r\n                }else{\r\n                    setTimeout(move);\r\n                }\r\n            }\r\n            yunu.throttle(move);\r\n            t.fadeTo('fast', 1);\r\n        });\r\n        return this;\r\n    };\r\n})(jQuery, window, document);"],"sourceRoot":"src/source/js"}